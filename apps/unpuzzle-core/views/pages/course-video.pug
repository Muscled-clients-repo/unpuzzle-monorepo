extends ../layout/main

block content
  - var firstVideo=course.chapters[0]?.videos[0]
  .container.mx-auto
    div(class="flex flex-col md:flex-row", socketId=socketId)
        // Video Player Section
        div(class="flex-1 relative")
            // Video Player
            include ../components/video-player

            // Course information
            div(class="w-full bg-white pt-10 pb-10 flex gap-4")
                div(class="course-content-wrapper w-full mb-4 pb-4")
                    h2(class="text-2xl font-bold mb-[30px]")= (firstVideo && firstVideo.title) || (course && course.title) || 'Course Video'
                    //- Instructor Info
                    include ../components/instructor-info

                //- Video Info
                include ../components/video-info

        // Learning Assistant Sidebar (for GPT search, etc.)
        include ../components/learning-assistant

block styles
  link(rel="stylesheet", href=`${ASSET_ORIGIN}/css/video-player.css`)

block scripts
  script(src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.3.6/wavesurfer.min.js", integrity="sha512-AHbeqKSpmp7xCp3Q9zYPeEKw8wgM2R+jnZYRoQPe/4H8Z1zU4k0fKlFfXCIYGj1YBFs/rZ8TboAfS6cGnmO4EA==", crossorigin="anonymous", referrerpolicy="no-referrer")
  script(src=`${ASSET_ORIGIN}/js/core/youtubePlayer.js`, type="module")
  script(src=`${ASSET_ORIGIN}/js/interface/course-content.js`, type="module")
  script(src=`${ASSET_ORIGIN}/js/core/ai-agent.js`, type="module")
