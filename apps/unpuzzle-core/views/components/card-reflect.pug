include ./media.pug

p(class="text-sm text-gray-900 font-semibold hidden reflect-paused-notification mb-4")
    | Paused at 
    span(class="paused-at-time")
        |
    span(class="text-gray-900")
        | PuzzleReflect activated

div(class="w-full border border-[#00AFF0] p-[12px] rounded-md card-reflect-wrapper hidden")
    div(class="flex flex-row w-full gap-4 mb-2")
        - var title = "Puzzle Reflect"
        - var description = "Send us a voice memo of your understanding of the last 2 mins"
        - var type = "split-card"
        include ../components/ai-agent-card.pug

    //- file upload section
    div(class="w-full gap-2 mb-4 card-reflect-file-upload-section hidden")
        label(for="reflectUploadFile", class="w-full p-[8px] border border-[#606060] rounded-md cursor-pointer flex flex-col gap-2 items-center justify-center")
            +media('image', `${ASSET_ORIGIN}/img/upload_spot-small.svg`, 'AI Agent', 'w-[32.79px] h-[48px] mx-auto pointer-events-none')
            div(class="text-sm text-gray-500 border border-[#E4E4E4] rounded-md p-[8px]")
                | Upload your screenshot
            p(class="text-sm text-gray-500")
                | Drag and drop
        input(type="file", class="hidden", id="reflectUploadFile", multiple)
        div(class="w-full preview-image-wrapper hidden")


    //- reflect loom link section
    div(class="w-full gap-2 mb-4 card-reflect-loom-link-section hidden")
        input(type="text", class="w-full p-[8px] border border-[#606060] rounded-md loom-link-input", placeholder="Enter Loom Link")

    //- audio section
    div(class="w-full gap-2 mb-4 card-reflect-audio-section hidden")
        div(class="flex flex-row w-full gap-2 mb-2 items-center")
            +media('image', `${ASSET_ORIGIN}/img/info-icon.svg`, 'Brainstorming', 'w-[14px] h-[14px]')
            p(class="text-sm text-gray-500 card-reflect-title")
                | Submit audio reflection
        div(class="flex flex-row w-full gap-2 mb-2 items-center justify-between overflow-x-auto")
            //- div(class="flex flex-row w-full min-w-fit gap-2 items-center border border-[#606060] rounded-md p-[4px] cursor-pointer reflect-audio-clip")
            //-     +media('image', '/img/play-circle-outline.svg', 'Brainstorming', 'w-[16px] h-[16px]')
            //-     p(class="text-sm text-gray-500 card-reflect-title")
            //-         | Audio Clip 1
            //- div(class="flex flex-row w-full  min-w-fit gap-2 items-center border border-[transparent] hover:border-[#606060] rounded-md p-[4px] cursor-pointer reflect-audio-clip")
            //-     +media('image', '/img/play-circle-outline.svg', 'Brainstorming', 'w-[16px] h-[16px]')
            //-     p(class="text-sm text-gray-500 card-reflect-title")
            //-         | Audio Clip 2

            //- div(class="flex flex-row w-full min-w-fit gap-2 items-center border border-[transparent] hover:border-[#606060] rounded-md p-[4px] cursor-pointer reflect-audio-clip")
            //-     +media('image', '/img/play-circle-outline.svg', 'Brainstorming', 'w-[16px] h-[16px]')
            //-     p(class="text-sm text-gray-500 card-reflect-title")
            //-         | Audio Clip 3

        div(class="w-full gap-2 mb-2 overflow-x-auto reflect-audio-player")
            div(class="w-full audio-recording-wrapper hidden")
                div(id="waveform")
            div(class="flex flex-row w-full gap-2 items-center rounded-full bg-[#F5F4F6] py-[8px] px-[10px] hidden audio-player-wrapper")
                audio(id="audioPlayer", controls)

    //- Confetti section
    div(class="w-full gap-2 mb-4 card-reflect-confetti-section hidden")
        div(class="w-full confetti-wrapper")
            +media('image', `${ASSET_ORIGIN}/img/confetti.gif`, 'Confetti', 'w-full h-full object-cover')

        div(class="w-full h-[100px] success-message-wrapper")
            p(class="text-sm text-gray-500 card-reflect-title")
                | Successfully submitted reflection

    div(class="flex flex-col w-full gap-2 card-reflect-buttons")
        button(class="btn-dark text-sm w-full primary-action-button", id="recordButton" recording="false")
            | Start recording
        button(class="btn-outline text-sm w-full p-[8px] secondary-action-button hidden", id="backButton")
            | Back